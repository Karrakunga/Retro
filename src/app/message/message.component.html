<div dnd-droppable [dropEnabled]="dropEnabled" (onDropSuccess)="dragOver($event, message.$key)" class="card card-primary card-inverse"
[ngClass]="{'selected': (message | async).selected}">
    <div class="card-block">
        <textarea #messageBox [ngModel]="(message | async).text" (blur)="updateMessage(messageBox.value) " class="card-text card-primary form-control"
        rows="3"></textarea>
    </div>
    <div class="card-footer">
        <button *ngIf="!(message| async).published && !discussMode" class="btn btn-primary" (click)="publish()">Publish</button>
        <i *ngIf="(message| async).published  && !discussMode" (click)="vote()" class="fa fa-arrow-up" aria-hidden="true"></i>
        <i *ngIf="(message| async).published  && !discussMode" (click)="vote()" class="fa fa-arrow-down" aria-hidden="true"></i>

        <button *ngIf="discussMode" class="btn btn-primary" (click)="select()">Select</button>
        <span *ngIf="(message| async).published  && !discussMode" class="tag tag-pill tag-default">{{(message| async).votes}}</span>
        <i class="fa fa-trash-o card-text float-xs-right" aria-hidden="true" (click)="delete()"></i>
    </div>
</div>