<div  dnd-droppable [dropEnabled]="dropEnabled" (onDropSuccess)="dragOver($event, message.$key)"  class="panel-body" [ngClass]="{'selected': message.selected}">
	<textarea #messageBox [(ngModel)]="message.text" (blur)="updateMessage(message.$key, messageBox.value) " class="form-control"
		rows="3"></textarea>
	<button *ngIf="!message.published && !discussMode" class="btn" (click)="publish(message.$key)">Publish</button>
	<button *ngIf="message.published  && !discussMode" class="btn" (click)="vote(message.$key)">Vote</button>
	<button class="btn" (click)="delete(message.$key)">Delete</button>
	<button *ngIf="discussMode" class="btn" (click)="select(message.$key)">Select</button>
	<button dnd-draggable (onDragStart)="merge(message.$key)" (onDragSuccess)="onDragSucess(message.$key)" [dragEnabled]="true" [dragData]="message" 
	 class="btn" >Merge</button>
	<span class="badge">{{message.votes}}</span>
</div>
